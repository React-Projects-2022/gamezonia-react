"use strict";(self.webpackChunkgamezonia_react=self.webpackChunkgamezonia_react||[]).push([[580],{8390:function(n,o,t){var e=t(1174),r=t(184);o.Z=function(){return(0,r.jsx)("span",{className:"loading",children:(0,r.jsx)(e.FM,{size:454})})}},1945:function(n,o,t){t.d(o,{E:function(){return s}});var e,r=t(168),s=(0,t(7261).Ps)(e||(e=(0,r.Z)(["\nfragment ShopProductObject on ShopProduct {\n  id\n  price\n  stock\n  product {\n    name\n    img\n    rating {\n      value\n      count\n    }\n    screenshoot @include(if: $relationScreens)\n  }\n  platform @include(if: $showPlatform){\n    id\n    name\n    slug\n  }\n  relationalProducts @include(if: $relationScreens) {\n    id\n    platform {\n      name\n    }\n  }\n}\n"])))},1580:function(n,o,t){t.r(o),t.d(o,{default:function(){return h}});var e,r,s=t(885),a=t(2336),c=t(8390),i=t(168),u=t(7261),d=t(1945),l=((0,u.Ps)(e||(e=(0,i.Z)(["\n  query PrincipalCharsVotes {\n    characters {\n      id\n      name\n      actor\n      total_episodes\n      votes\n      url\n    }\n  }\n"]))),(0,u.Ps)(r||(r=(0,i.Z)(['\n  query HomePageInfo(\n    $showPlatform: Boolean = false\n    $relationScreens: Boolean = false\n  ) {\n    carousel: shopProductsOffersLast(itemsPage: 6, topPrice: 30, random: true) {\n      shopProducts {\n        ...ShopProductObject\n      }\n    }\n    pc: shopProductsPlatforms(itemsPage: 4, platform: ["4"], random: true) {\n      shopProducts {\n        ...ShopProductObject\n      }\n    }\n    ps4: shopProductsPlatforms(itemsPage: 4, platform: ["18"], random: true) {\n      shopProducts {\n        ...ShopProductObject\n      }\n    }\n    topPrice35: shopProductsOffersLast(\n      itemsPage: 4\n      topPrice: 35\n      random: true\n    ) {\n      shopProducts {\n        ...ShopProductObject\n      }\n    }\n  }\n  ',"\n"])),d.E)),p=t(5331),m=t(2791),P=t(9663),f=t(184),h=function(){var n=(0,a.a)(l,{variables:{showPlatform:!0,relationScreens:!1}}),o=n.loading,t=n.error,e=n.data,r=(0,m.useState)([]),i=(0,s.Z)(r,2),u=i[0],d=i[1],h=(0,P.jD)(),g=h.manageProduct,j=h.getProductInfo;(0,m.useEffect)((function(){if(e&&e.carousel.shopProducts){var n=[];e.carousel.shopProducts.map((function(o){return n.push({id:o.id,title:o.product.name,description:o.platform.name,url:window.location.origin.concat("/games/details/".concat(o.id)),background:o.product.img})})),d(n)}}),[e]);var v=function(n){return(0,p.T)("games/details",n)},S=function(n){var o=j(n.id);console.log(o),console.log("Add to cart one unit: ".concat(n.product.name," product"));var t={description:n.platform.name,id:n.id,img:n.product.img,name:n.product.name,price:n.price,qty:void 0!==o&&Object.keys(o).length?o.qty+1:1,rating:{count:n.product.rating.count,value:n.product.rating.value},stock:n.stock};g(t)},O=P.tl.CURRENCY_LIST.EURO;return(0,f.jsxs)(f.Fragment,{children:[o&&(0,f.jsx)(c.Z,{}),t&&(0,f.jsxs)("p",{children:["Error: ",t]}),!o&&!t&&(0,f.jsxs)(f.Fragment,{children:[u.length>2&&(0,f.jsx)(P.lr,{carousel:u}),(0,f.jsxs)("div",{className:"container mb-5",children:[(0,f.jsx)(P.Om,{title:"Juegos de PS4",products:e.ps4.shopProducts,showDetails:v,addCart:S,selectMoney:O}),(0,f.jsx)(P.Om,{showDesc:!0,title:"Juegos m\xe1s econ\xf3micos (<35 \u20ac)",products:e.topPrice35.shopProducts,showDetails:v,addCart:S,selectMoney:O}),(0,f.jsx)(P.Om,{title:"Juegos de PC",products:e.pc.shopProducts,showDetails:v,addCart:S,selectMoney:O})]})]})]})}}}]);
//# sourceMappingURL=580.23dc36ea.chunk.js.map