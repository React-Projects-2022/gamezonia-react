"use strict";(self.webpackChunkgamezonia_react=self.webpackChunkgamezonia_react||[]).push([[814],{4018:function(e,n,r){r.d(n,{P:function(){return i}});var t,a=r(168),i=(0,r(7261).Ps)(t||(t=(0,a.Z)(["\n  fragment UserObject on User {\n    id\n    name\n    lastname\n    email\n    registerDate @include(if: $include)\n    birthday @include(if: $include)\n    role\n    active\n    stripeCustomer\n  }\n"])))},9814:function(e,n,r){r.r(n),r.d(n,{default:function(){return w}});var t,a,i,s,l,u=r(1413),o=r(885),d=r(4259),c=(r(8694),r(168)),m=r(4018),p=r(7261),h=(0,p.Ps)(t||(t=(0,c.Z)(["\n  mutation addUser($user: UserInput!, $include: Boolean!) {\n    register(user: $user) {\n      status\n      message\n      user {\n        ...UserObject\n      }\n    }\n  }\n  ","\n"])),m.P),g=((0,p.Ps)(a||(a=(0,c.Z)(["\n  mutation updateUser($user: UserInput!, $include: Boolean!) {\n    updateUser(user: $user) {\n      status\n      message\n      user {\n        ...UserObject\n      }\n    }\n  }\n  ","\n"])),m.P),(0,p.Ps)(i||(i=(0,c.Z)(["\n  mutation blockUser($id: ID!, $unblock: Boolean, $admin: Boolean) {\n    blockUser(id: $id, unblock: $unblock, admin: $admin) {\n      status\n      message\n    }\n  }\n"]))),(0,p.Ps)(s||(s=(0,c.Z)(["\n  mutation activarUsuarioEmail($id: ID!, $email: String!) {\n    activeUserEmail( id: $id, email: $email ) {\n      status\n      message\n    }\n  }\n"]))),(0,p.Ps)(l||(l=(0,c.Z)(["\n  mutation activeUser($id: ID!, $birthday: String!, $password: String!) {\n    activeUserAction(id: $id, birthday: $birthday, password: $password) {\n      status\n      message\n    }\n  }\n"]))),r(9388)),v=r(2791),f=r(3651),b=r(5970),$=r(2364),j=r(9484),x=r(5046);var Z=r(184),w=function(){var e=(0,d.cI)(),n=e.register,r=e.handleSubmit,t=e.formState.errors,a=(0,v.useState)({}),i=(0,o.Z)(a,2),s=i[0],l=i[1],c=function(e,n){var r=(0,x.x)(null===n||void 0===n?void 0:n.client);(0,$.Vp)(e,$.n_.Mutation);var t=(0,v.useState)({called:!1,loading:!1,client:r}),a=t[0],i=t[1],s=(0,v.useRef)({result:a,mutationId:0,isMounted:!0,client:r,mutation:e,options:n});Object.assign(s.current,{client:r,options:n,mutation:e});var l=(0,v.useCallback)((function(e){void 0===e&&(e={});var n=s.current,r=n.client,t=n.options,a=n.mutation,l=(0,g.pi)((0,g.pi)({},t),{mutation:a});s.current.result.loading||l.ignoreResults||i(s.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:r});var u=++s.current.mutationId,o=(0,f.J)(l,e);return r.mutate(o).then((function(n){var t,a,d=n.data,c=n.errors,m=c&&c.length>0?new j.c({graphQLErrors:c}):void 0;if(u===s.current.mutationId&&!o.ignoreResults){var p={called:!0,loading:!1,data:d,error:m,client:r};s.current.isMounted&&!(0,b.D)(s.current.result,p)&&i(s.current.result=p)}return null===(t=l.onCompleted)||void 0===t||t.call(l,n.data),null===(a=e.onCompleted)||void 0===a||a.call(e,n.data),n})).catch((function(n){var t,a;if(u===s.current.mutationId&&s.current.isMounted){var d={loading:!1,error:n,data:void 0,called:!0,client:r};(0,b.D)(s.current.result,d)||i(s.current.result=d)}if(l.onError||o.onError)return null===(t=l.onError)||void 0===t||t.call(l,n),null===(a=e.onError)||void 0===a||a.call(e,n),{data:void 0,errors:n};throw n}))}),[]),u=(0,v.useCallback)((function(){i({called:!1,loading:!1,client:r})}),[]);return(0,v.useEffect)((function(){return function(){s.current.isMounted=!1}}),[]),[l,(0,g.pi)({reset:u},a)]}(h,{update:function(e,n){var r=n.data.register;l(r)}}),m=(0,o.Z)(c,1)[0];console.log(s);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("h1",{children:"Register"}),(0,Z.jsx)("p",{children:s.status}),(0,Z.jsxs)("form",{onSubmit:r((function(e){m({variables:{user:{email:e.email,password:e.password,name:e.name,lastname:e.lastname,birthday:e.birthday},include:!0}})})),children:[(0,Z.jsx)("label",{htmlFor:"name",children:"First Name"}),(0,Z.jsx)("input",(0,u.Z)({placeholder:"Input your name"},n("name",{required:"This field is a required",minLength:{value:2,message:"Min length is 2"}}))),t.name&&(0,Z.jsx)("p",{children:t.name.message}),(0,Z.jsx)("label",{htmlFor:"lastname",children:"Last Name"}),(0,Z.jsx)("input",(0,u.Z)({placeholder:"Input your lastname"},n("lastname",{required:"This field is required",minLength:{value:2,message:"Min length is 2"}}))),t.lastname&&(0,Z.jsx)("p",{children:t.lastNname.message}),(0,Z.jsx)("label",{htmlFor:"birthday",children:"Birthday"}),(0,Z.jsx)("input",(0,u.Z)({type:"date",id:"start",min:"1900-01-01"},n("birthday",{}))),(0,Z.jsx)("label",{htmlFor:"email",children:"Email"}),(0,Z.jsx)("input",(0,u.Z)({placeholder:"bluebill1049@hotmail.com",type:"text"},n("email",{required:"this is required",pattern:{value:/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,message:"Invalid email address"}}))),t.email&&(0,Z.jsx)("p",{children:t.email.message}),(0,Z.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Z.jsx)("input",(0,u.Z)({type:"password",defaultValue:"123456",placeholder:"password"},n("password",{required:!0}))),t.password&&(0,Z.jsx)("p",{className:"validation",children:"This field is required"}),(0,Z.jsx)("input",{type:"submit"})]})]})}},8694:function(){}}]);
//# sourceMappingURL=814.03589e7e.chunk.js.map